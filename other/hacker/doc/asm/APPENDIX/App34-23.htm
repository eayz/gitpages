<html>

<head>
<meta http-equiv="Content-Language" content="zh-cn">
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>附录3.4 直接磁盘服务的说明</title>
<link rel=stylesheet href="../Assember.css">
<base target="_self">
</head>

<body topmargin="1" leftmargin="0" background="image/background.gif">

<p><font color="#FF00FF">(1)、功能00H</font></p>    
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">磁盘系统复位</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝00H<br>
      DL＝驱动器，00H~7FH：软盘；80H~0FFH：硬盘</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，AH＝00H，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="01H"><font color="#FF00FF">(2)、功能01H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">读取磁盘系统状态</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝01H<br>
      DL＝驱动器，00H~7FH：软盘；80H~0FFH：硬盘</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">AH＝00H，AL＝状态代码，其定义如下：</td>
  </tr>
</table>
         
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="54%">
      <p style="margin-left: 2pt">00H ― 无错&nbsp;</p> 
    </td>  
    <td width="46%"> 
01H ― 非法命令</td>   
  </tr>
  <tr>
    <td width="54%">
      <p style="margin-left: 2pt">02H ― 地址目标未发现</p> 
    </td>  
    <td width="46%"> 
03H ― 磁盘写保护(软盘)</td>   
  </tr>
  <tr>
    <td width="54%">
      <p style="margin-left: 2pt">04H ― 扇区未发现</p> 
    </td>  
    <td width="46%"> 
05H ― 复位失败(硬盘)</td>   
  </tr>
  <tr>
    <td width="54%">
      <p style="margin-left: 2pt">06H ― 软盘取出(软盘)</p> 
    </td>  
    <td width="46%"> 
07H ― 错误的参数表(硬盘)</td>   
  </tr>
  <tr>
    <td width="54%">
      <p style="margin-left: 2pt">08H ― DMA越界(软盘)</p> 
    </td>  
    <td width="46%"> 
09H ― DMA超过64K界限</td>   
  </tr>
  <tr>
    <td width="54%">
      <p style="margin-left: 2pt">0AH ― 错误的扇区标志(硬盘)</p> 
    </td>  
    <td width="46%"> 
0BH ― 错误的磁道标志(硬盘)</td>   
  </tr>
  <tr>
    <td width="54%">
      <p style="margin-left: 2pt">0CH ― 介质类型未发现(软盘)</p> 
    </td>  
    <td width="46%"> 
0DH ― 格式化时非法扇区号(硬盘)</td>  
  </tr>
  <tr>
    <td width="54%">
      <p style="margin-left: 2pt">0EH ― 控制数据地址目标被发现(硬盘)</p> 
    </td>  
    <td width="46%"> 
0FH ― DMA仲裁越界(硬盘)</td>   
  </tr>
  <tr>
    <td width="54%">
      <p style="margin-left: 2pt">10H ― 不正确的CRC或ECC编码</p> 
    </td>
    <td width="46%" valign="top"> 
11H ― ECC校正数据错(硬盘)</td>  
  </tr>
  <tr>
    <td width="100%" colspan="2">　CRC:Cyclic Redundancy Check code<br>   
      　ECC:Error Checking &amp; Correcting    
    code</td>
  </tr>
  <tr>
    <td width="54%">
      <p style="margin-left: 2pt">20H ― 控制器失败</p> 
    </td>  
    <td width="46%"> 
40H ― 查找失败</td>   
  </tr>
  <tr>
    <td width="54%">
      <p style="margin-left: 2pt">80H ― 磁盘超时(未响应)</p> 
    </td>  
    <td width="46%"> 
AAH ― 驱动器未准备好(硬盘)</td>   
  </tr>
  <tr>
    <td width="54%">
      <p style="margin-left: 2pt">BBH ― 未定义的错误(硬盘)</p> 
    </td>  
    <td width="46%"> 
CCH ― 写错误(硬盘)</td>   
  </tr>
  <tr>
    <td width="54%">
      <p style="margin-left: 2pt">E0H ― 状态寄存器错(硬盘)</p> 
    </td>  
    <td width="46%"> 
FFH ― 检测操作失败(硬盘)</td>   
  </tr>
</table>
<p><a name="02H"><font color="#FF00FF">(3)、功能02H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">读扇区</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝02H<br>
      AL＝扇区数<br>
      CH＝柱面<br>
      CL＝扇区<br>
      DH＝磁头<br>
      DL＝驱动器，00H~7FH：软盘；80H~0FFH：硬盘<br>
      ES:BX＝缓冲区的地址</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，AH＝00H，AL＝传输的扇区数，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="03H"><font color="#FF00FF">(4)、功能03H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">写扇区</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝03H<br>
      AL＝扇区数<br>
      CH＝柱面<br>
      CL＝扇区<br>
      DH＝磁头<br>
      DL＝驱动器，00H~7FH：软盘；80H~0FFH：硬盘<br>
      ES:BX＝缓冲区的地址</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，AH＝00H，AL＝传输的扇区数，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="04H"><font color="#FF00FF">(5)、功能04H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">检验扇区</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝04H<br>
      AL＝扇区数<br>
      CH＝柱面<br>
      CL＝扇区<br>
      DH＝磁头<br>
      DL＝驱动器，00H~7FH：软盘；80H~0FFH：硬盘<br>
      ES:BX＝缓冲区的地址</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，AH＝00H，AL＝被检验的扇区数，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="05H"><font color="#FF00FF">(6)、功能05H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">格式化磁道</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝05H<br>
      AL＝交替(Interleave)<br>
      CH＝柱面<br>
      DH＝磁头<br>
      DL＝驱动器，00H~7FH：软盘；80H~0FFH：硬盘<br>
      ES:BX＝地址域列表的地址</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，AH＝00H，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="06H"><font color="#FF00FF">(7)、功能06H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">格式化坏磁道</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝06H<br>
      AL＝交替<br>
      CH＝柱面<br>
      DH＝磁头<br>
      DL＝80H~0FFH：硬盘<br>
      ES:BX＝地址域列表的地址</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，AH＝00H，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="07H"><font color="#FF00FF">(8)、功能07H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">格式化驱动器</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝07H<br>
      AL＝交替<br>
      CH＝柱面<br>
      DL＝80H~0FFH：硬盘</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，AH＝00H，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="08H"><font color="#FF00FF">(9)、功能08H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">读取驱动器参数</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝08H<br>
      DL＝驱动器，00H~7FH：软盘；80H~0FFH：硬盘</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝1――操作失败，AH＝状态代码，参见功能号01H中的说明，否则，
      <table border="0" width="100%" cellspacing="0" cellpadding="0">
        <tr>
          <td width="15%" valign="top">
            <p align="right">BL</td>
          <td width="85%">＝01H ― 360K</td>   
        </tr>
        <tr>
          <td width="15%" rowspan="3" valign="top">
          </td>
          <td width="85%">＝02H ― 1.2M</td>   
        </tr>
        <tr>
          <td width="85%">＝03H ― 720K</td>   
        </tr>
        <tr>
          <td width="85%">＝04H ― 1.44M</td>   
        </tr>
      </table>
      <p>CH＝柱面数的低8位<br>
      CL的位7-6＝柱面数的该2位<br>
      CL的位5-0＝扇区数<br>
      DH＝磁头数<br>
      DL＝驱动器数<br>
      ES:DI＝磁盘驱动器参数表地址</td>
  </tr>
</table>
         
<p><a name="09H"><font color="#FF00FF">(10)、功能09H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">初始化硬盘参数</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝09H<br>
      DL＝80H~0FFH：硬盘(还有有关参数表问题，在此从略)</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，AH＝00H，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="0AH"><font color="#FF00FF">(11)、功能0AH</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">读长扇区，每个扇区随带四个字节的ECC编码</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝0AH<br>
      AL＝扇区数<br>
      CH＝柱面<br>
      CL＝扇区<br>
      DH＝磁头<br>
      DL＝80H~0FFH：硬盘<br>
      ES:BX＝缓冲区的地址</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，AH＝00H，AL＝传输的扇区数，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="0BH"><font color="#FF00FF">(12)、功能0BH</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">写长扇区，每个扇区随带四个字节的ECC编码</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝0BH<br>
      AL＝扇区数<br>
      CH＝柱面<br>
      CL＝扇区<br>
      DH＝磁头<br>
      DL＝80H~0FFH：硬盘<br>
      ES:BX＝缓冲区的地址</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，AH＝00H，AL＝传输的扇区数，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="0CH"><font color="#FF00FF">(13)、功能0CH</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">查寻</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝0CH<br>
      CH＝柱面的低8位<br>
      CL(7-6位)＝柱面的高2位<br>
      DH＝磁头<br>
      DL＝80H~0FFH：硬盘</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，AH＝00H，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="0DH"><font color="#FF00FF">(14)、功能0DH</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">硬盘系统复位</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝0DH<br>
      DL＝80H~0FFH：硬盘</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，AH＝00H，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="0EH"><font color="#FF00FF">(15)、功能0EH</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">读扇区缓冲区</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝0EH<br>
      ES:BX＝缓冲区的地址</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="0FH"><font color="#FF00FF">(16)、功能0FH</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">写扇区缓冲区</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝0FH<br>
      ES:BX＝缓冲区的地址</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="10H"><font color="#FF00FF">(17)、功能10H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">读取驱动器状态</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝10H<br>
      DL＝80H~0FFH：硬盘</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，AH＝00H，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="11H"><font color="#FF00FF">(18)、功能11H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">校准驱动器</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝11H<br>
      DL＝80H~0FFH：硬盘</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，AH＝00H，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="12H"><font color="#FF00FF">(19)、功能12H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">控制器RAM诊断</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝12H</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="13H"><font color="#FF00FF">(20)、功能13H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">控制器驱动诊断</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝13H</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="14H"><font color="#FF00FF">(21)、功能14H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">控制器内部诊断</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝14H</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，否则，AH＝状态代码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="15H"><font color="#FF00FF">(22)、功能15H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">读取磁盘类型</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝15H<br>
      DL＝驱动器，00H~7FH：软盘；80H~0FFH：硬盘</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝1――操作失败，AH＝状态代码，参见功能号01H中的说明，
      <table border="0" width="100%" cellspacing="0" cellpadding="0">
        <tr>
          <td width="16%" align="right" valign="top" rowspan="4">否则，AH</td>
          <td width="84%">＝00H ― 未安装驱动器</td>   
        </tr>
        <tr>
          <td width="84%">＝01H ― 无改变线支持的软盘驱动器</td>   
        </tr>
        <tr>
          <td width="84%">＝02H ― 带有改变线支持的软盘驱动器</td>   
        </tr>
        <tr>
          <td width="84%">＝03H ― 硬盘，CX:DX＝512字节的扇区数</td>   
        </tr>
      </table>
    </td>
  </tr>
</table>
         
<p><a name="16H"><font color="#FF00FF">(23)、功能16H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">读取磁盘变化状态</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝16H<br>
      DL＝00H~7FH：软盘</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――磁盘未改变，AH＝00H，否则，AH＝06H，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="17H"><font color="#FF00FF">(24)、功能17H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">设置磁盘类型</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝17H<br>
      DL＝00H~7FH：软盘
      <table border="0" width="100%" cellspacing="0" cellpadding="0">
        <tr>
          <td width="5%" rowspan="5" valign="top">AL</td>
          <td width="95%">＝00H ― 未用</td>  
        </tr>
        <tr>
          <td width="95%">＝01H ― 360K在360K驱动器中</td>  
        </tr>
        <tr>
          <td width="95%">＝02H ― 360K在1.2M驱动器中</td>  
        </tr>
        <tr>
          <td width="95%">＝03H ― 1.2M在1.2M驱动器中</td>   
        </tr>
        <tr>
          <td width="95%">＝04H ― 720K在720K驱动器中</td>   
        </tr>
      </table>
    </td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，AH＝00H，否则，AH＝状态编码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="18H"><font color="#FF00FF">(25)、功能18H</font></a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" rowspan="3" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">设置格式化媒体类型</td>   
  </tr>
  <tr>
    <td width="14%" valign="top">入口参数：</td>
    <td width="82%">AH＝18H<br>
      CH＝柱面数<br>
      CL＝每磁道的扇区数<br>
      DL＝00H~7FH：软盘</td>
  </tr>
  <tr>
    <td width="14%" valign="top">出口参数：</td>
    <td width="82%">CF＝0――操作成功，AH＝00H，ES:DI＝介质类型参数表地址，否则，AH＝状态编码，参见功能号01H中的说明</td>
  </tr>
</table>
         
<p><a name="19H"><font color="#FF00FF">(26)、功能19H</font>
</a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">磁头保护，仅在PS/2中有效，在此从略</td>   
  </tr>
</table>
         
<p><a name="1AH"><font color="#FF00FF">(27)、功能1AH</font>
</a>
</p>
<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="5%" valign="top"></td>
    <td width="14%">功能描述：</td>
    <td width="82%">格式化ESDI驱动器，仅在PS/2中有效，在此从略</td>   
  </tr>
</table>
         
</body>        
        
</html>        
